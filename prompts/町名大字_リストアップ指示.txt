# 町名・大字のリストアップ指示

## 目的

近畿5府県（大阪府、兵庫県、京都府、奈良県、滋賀県）の各**市区町村**の下位階層である**町名・大字（および字）**を、すべて調査し、リストアップすること。

現在のデータは市区町村まで（例：京都府／綾部市、大阪府／大阪市浪速区）で止まっている。この下の**町名・大字**の一覧を整備する。

---

## 対象

- **都道府県**: 大阪府、兵庫県、京都府、奈良県、滋賀県
- **階層**: 各都道府県に属する**全市区町村**の直下にある**町名・大字・字**
  - 町名（ちょうめい）、大字（おおあざ）、字（あざ）を含める
  - 丁目がある場合は「〇〇町1丁目」「〇〇町2丁目」のように、町名＋丁目を1項目として列挙してよい（市区町村の慣例に合わせること）

---

## 調査の際の参照先（例）

次を参考に、正確な正式名称でリストアップすること。

- 各市区町村の公式サイトの「町名一覧」「住居表示」「行政区画」「市内の町名」
- 国土交通省「国土数値情報」の行政区域データ
-  e-Stat（政府統計）の境界・町丁目データ
- 各都道府県・市区町村の「統計書」「住民基本台帳に基づく人口」に付く町丁目一覧

可能な限り公式の町丁目・町名一覧に基づくこと。参照した出典（URL・資料名）があれば、都道府県単位または市区町村単位で末尾に簡単に記しておくこと。

---

## 出力形式

**JSON** で出力すること。以下のいずれか、または同等の階層構造とすること。

### 形式A（1ファイルに全件・階層型）

```json
{
  "大阪府": {
    "大阪市浪速区": ["恵美須東", "恵美須西", "恵美須町", "久保吉", "難波中", "..."],
    "大阪市西成区": ["花園南", "花園北", "..."],
    "堺市": ["堺区〇〇町", "北区〇〇", "..."],
    "..."
  },
  "兵庫県": {
    "神戸市中央区": ["..."],
    "..."
  },
  "京都府": { "..." },
  "奈良県": { "..." },
  "滋賀県": { "..." }
}
```

### 形式B（市区町村ごとの配列型）

```json
[
  { "pref": "大阪府", "city": "大阪市浪速区", " districts": ["恵美須東", "恵美須西", "恵美須町", "久保吉", "難波中", "..."] },
  { "pref": "大阪府", "city": "大阪市西成区", "districts": ["花園南", "花園北", "..."] },
  "..."
]
```

- キー名（`districts` / `町名・大字` 等）は同一形式に揃えること。
- データ量が非常に多い場合は、**都道府県ごと**にファイルを分けてもよい。  
  例: `町名大字_大阪府.json`, `町名大字_兵庫県.json`, …

---

## 出力時の注意

1. **表記**: 各市区町村の公式の町名・大字の表記に合わせること（読み仮名は必須ではない）。
2. **網羅**: 合併や住居表示の実施などで欠落しがちな旧町名・旧大字は、現行の町丁目として使われている範囲で含める。廃止されたものは含めなくてよい。
3. **重複・別名**: 同一の区域が複数の名称で扱われる場合は、公式の町丁目リストに載っているほうを優先して1つにまとめる。
4. **出典**: 可能な範囲で、参照したページのURL・資料名を、都道府県ごとまたはファイル末尾に簡潔に書く。

---

## リストアップ完了後の利用

リストアップが完了したら、結果の JSON をファイルに保存し、**`prompts/町名大字_ClaudeCLI用_取り込み指示.txt`** を `--prompt`、その JSON を `--file` に指定して Claude CLI に渡す:

```bash
claude --prompt prompts/町名大字_ClaudeCLI用_取り込み指示.txt --file 町名大字_近畿5府県.json
```

上記のプロンプトで、`data/house/area` や `data/land/area` への取り込み案・推奨ファイル構成・生成スクリプト案を出してもらえる。

---

## Claude CLI での実行例

この指示をプロンプトとして使い、調査とリストの出力まで一通り行う場合:

```bash
claude --prompt prompts/町名大字_リストアップ指示.txt
```

**市区町村を本プロジェクトの `data/house/area` に揃えたい場合**は、同梱の市区町村一覧を `--file` で渡す:

```bash
claude --prompt prompts/町名大字_リストアップ指示.txt --file prompts/市区町村一覧_近畿5府県.txt
```

- 市区町村一覧: `prompts/市区町村一覧_近畿5府県.txt`（都道府県/市区町村 の形式で約200件）
- リストアップが長くなるため、都道府県ごとにセッションを分けて実行してもよい
