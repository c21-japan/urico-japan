# 購入希望者情報の詳細作成時にターミナル（AI）へ伝える事例まとめ

マンションの購入希望者情報作成・ブラッシュアップで使われた事例を整理し、戸建て・土地用に参考にできる形にしたものです。

---

## 0. 職種（occupation）の参照

- **一覧**: `prompts/職種一覧.md` および `prompts/occupation_list.json` の50件から選択する。
- **年齢制限**:
  - **パート・アルバイト** … 50代後半以降の購入希望者に限る。
  - **無職** … 60代後半以降の購入希望者に限る。

---

## 1. マンションで使われていた事例

### 1.1 初回生成（mansion_template.txt）

- **reason の候補例**（短文のキーワード列のみ）  
  転職のため、結婚を機に、子供の学校区域、老後の住居確保、住み替え、住環境改善、親の近居希望、賃貸から購入へ、投資目的、通勤の便、子育て環境、など
- **出力例**は1件のみで、`reason` は「結婚を機に」のような短文。

### 1.2 ブラッシュアップ（brushup_mansion_buyers_claude.txt / brushup_mansion_buyers.md）

**「改善例」として、属性ごとの before/after をプロンプトに含めて AI に伝えていた。**

#### 改善前（悪い例）― 1パターン

```
"BELISTA千里山は通勤に便利な立地で、家族で広々と暮らせる間取りが魅力的でした。子育て環境も良く、長く住める物件だと感じています。"
```

- 物件名の繰り返し
- 誰向けか分からない一般的な言い回し

#### 改善後（良い例）― 属性を明示した複数パターン

| 属性 | reason の例 |
|------|-------------|
| **30代前半**、ご夫婦、パートアルバイト、キャッシュ（一部住宅ローン）、即時 | 「結婚を機に新居を探していました。駅から近く、近隣に保育園やスーパーもあり、子育てを考えた時に最適な環境だと思い購入を決めました。」 |
| **40代前半**、ご夫婦、会社員（一般職）、未定、即時 | 「転勤でこのエリアに来ることになり、通勤アクセスの良さと周辺の生活利便性を重視して選びました。2LDK以上の広さも希望通りです。」 |
| **50代後半**、ご夫婦、地方公務員、キャッシュ、1ヶ月後 | 「定年退職を控え、老後の住まいとして駅近で買い物も便利な立地を探していました。管理状態も良く、長く住める物件だと判断しました。」 |
| **30代後半**、ご夫婦とお子様、教員（小中高）、住宅ローン、1ヶ月後 | 「子供の学校区域を重視して物件を探していました。職場へのアクセスも良好で、3LDK以上の広さがあり家族全員が快適に過ごせると考えました。」 |

### 1.3 改善のポイント詳細（属性別の短文例）

`brushup_mansion_buyers.md` に以下を「考えるときのヒント」として渡していた。

| 観点 | 悪い例 | 良い例 |
|------|--------|--------|
| 物件名 | 「BELISTA千里山は通勤に便利な立地で...」 | 「通勤に便利な立地で、駅から徒歩5分の好立地が決め手でした」 |
| 職業（教員） | ― | 「学校に近く、教育環境を重視して選びました」 |
| 家族（ご夫婦とお子様） | ― | 「子育てに適した環境で、近くに公園や保育園もあります」 |
| 年齢（50代後半） | ― | 「老後の住まいとして、駅近で買い物も便利な立地を選びました」 |
| 抽象vs具体 | 「周辺環境と利便性に惹かれました」 | 「以前からこのエリアに住みたいと考えており、駅近でスーパーも徒歩圏内という生活利便性の高さが決め手でした」 |

### 1.4 共通ルール（プロンプトで指示していた内容）

- 物件名を reason 内で繰り返さない
- 各購入希望者の **職業・家族構成・年齢・購入方法・購入時期** に合わせた自然な理由
- 30〜100文字程度
- パターン化を避け、同じ物件内でも人ごとに理由を変える

---

## 2. 戸建て用に流用するときの事例の作り方

### 2.1 戸建ての追加フィールドを活かす

戸建てには以下のように、マンションと違う項目がある。

- `walk_time`, `price`, `land_area`, `building_area`, `parking`, `built_year`

**reason に含めると良い要素の例：**

- 土地面積・建物面積：子供の成長、在宅ワーク、二世帯、趣味の部屋 など
- 駐車場：通勤・仕事用、家族の車2台 など
- 築年数：リノベ希望、新築同様、メンテしやすさ など
- 徒歩分数：通勤・通学、駅前一戸建て など

### 2.2 戸建て向け「改善例」のテンプレ（AI に渡す用）

```
【改善例】戸建ての reason
改善前：
"○○市の戸建ては広い土地で子育てに良さそうです。駐車場も2台分あるので便利です。"

改善後（30代前半、夫婦+子供2人、会社員、住宅ローン、即時、land_area: 100–200㎡、parking: 2台希望）：
"子供2人の成長を見据えて庭付き一戸建てを探していました。100㎡以上の土地で駐車2台が確保でき、通勤駅まで徒歩10分圏という条件で、この物件に決めました。"

改善後（50代前半、夫婦、自営業、キャッシュ、3ヶ月後、built_year: 築20年以内、building_area: 100–150㎡）：
"自宅兼事務所として使える広さを希望していました。築浅で設備が新しく、リフォーム費用を抑えながら移転できる物件を選びました。"

改善後（40代前半、夫婦+子供2人、公務員、住宅ローン、6ヶ月後、北向きNG）：
"子供の学区と日当たりを最優先に探していました。南向きで庭があり、近くに小学校とスーパーがある立地が決め手です。"
```

### 2.3 戸建ての NG 条件と reason の対応

- 北向き → 日当たり・洗濯・庭の活用
- 前所有者がペット飼育 → アレルギー、清潔感、リフォームの有無
- 駐車場なし／1台のみ → 通勤・家族の車台数

これらを「なぜその NG を付けているか」が伝わる程度に reason に織り込むと、一貫した人物像になる。

---

## 3. 土地用に流用するときの事例の作り方

### 3.1 土地の追加フィールドを活かす

土地には `building_area`（希望建物面積）はあるが `built_year` はない。代わりに「何を建てるか」が reason に効く。

- `land_area`, `building_area`, `parking`  
  → 新築一戸建て、二世帯、店舗併用、賃貸経営 など
- 土地特有の `ng`  
  → 旗竿地、北側道路、傾斜地、接道、用途・建ぺい率 など

### 3.2 土地向け「改善例」のテンプレ（AI に渡す用）

```
【改善例】土地の reason
改善前：
"○○区の土地で新築を建てたいです。広めがいいです。"

改善後（50代前半、夫婦+子供2人、自営業、キャッシュ、即時、land_area: 100–200㎡、新築建て替え）：
"自宅の建て替えのため、100㎡以上の角地を探していました。接道とインフラを確認した上で、自社施工で新築を建てる予定です。"

改善後（40代前半、夫婦、会社員、住宅ローン、1ヶ月後、land_area: 50–100㎡、building_area: 50–100㎡）：
"初めての新築で、駅徒歩10分以内の小規模地を希望していました。建ぺい率・容積率が取りやすく、2階建てで十分な延床が確保できる点が決め手です。"

改善後（60代前半、夫婦、無職、キャッシュ、3ヶ月後、旗竿地NG）：
"老後はコンパクトな平屋で過ごしたく、日当たりと施工性を重視していました。旗竿地は避け、前面道路に面した整形地を選びました。"
```

### 3.3 土地の NG と reason の対応

- 旗竿地 → 採光、施工・重機、資材搬入
- 北側道路 → 南側に庭・リビングを取りたい
- 傾斜地 → 基礎・造成コスト、高齢者・車椅子
- 接道悪い → 建築条件、融資、将来の売却

reason に「なぜその NG を避けるか」を一言入れると、土地購入者らしい理由になる。

---

## 4. 戸建て・土地用プロンプトに入れると良い「共通ブロック」

以下のブロックを、戸建て用・土地用それぞれのプロンプトに追加すると、マンションと同様に「考え方」を伝えられる。

```
【reason 改善のポイント】
1. 物件名・地名の繰り返しを避ける（「○○の戸建ては...」「○○の土地は...」と書かない）
2. 各購入希望者の属性（職業、家族構成、年齢、予算、希望面積、駐車、築年数 など）に合わせた自然な理由
3. 30〜100文字程度の、具体的なストーリー（転勤、子供の学区、建て替え、老後、初めての新築 など）
4. 同じエリア・駅内でも、人ごとに異なる理由にする（パターン化を避ける）
5. NG条件と矛盾しない理由にする（例：北向きNGなら「日当たりを重視」など）

【出力】
- 既存のJSON/JSの構造は変えず、reason のみを修正 or 生成する
- 他のフィールド（method, occupation, timing, ng, family, age, price, land_area...）は変更しない
```

---

## 5. 実行方法の参考（マンションのブラッシュアップ）

- プロンプト：`prompts/brushup_mansion_buyers_claude.txt`
- 実行例：

```bash
claude --file data/mansion/part1.js --prompt prompts/brushup_mansion_buyers_claude.txt > data/mansion/part1_brushup.js
```

戸建て・土地で同様にする場合：

- 戸建て用：`prompts/brushup_house_buyers_claude.txt` のようなファイルを新規作成し、上記「2.2 戸建て向け改善例」「4. 共通ブロック」を中身に入れる。
- 土地用：`prompts/brushup_land_buyers_claude.txt` を同様に作成し、「3.2 土地向け改善例」「4. 共通ブロック」を入れる。
- 既存の `house_template.txt` / `land_template.txt` の `reason` 説明部分に、上記の「改善例」と「共通ブロック」の要約を追記してもよい。

---

## 6. まとめ

| 項目 | マンションでやっていたこと | 戸建・土地に転用するとき |
|------|---------------------------|---------------------------|
| 事例の形式 | 改善前1パターン＋改善後を **属性つきで4パターン** | 同様に、**属性（＋戸建/土地固有の項目）つきで3〜4パターン** |
| 属性 | 年齢、家族、職業、method、timing | 上に加え、**price, land_area, building_area, parking, built_year（戸建）, ng（旗竿・北側道路など）** |
| 悪い例 | 物件名の繰り返し、抽象的 | 「○○市の戸建は…」「広めがいい」など、抽象的・一般的な表現 |
| ルール | 30〜100字、属性に合致、パターン化回避、物件名なし | 同じ。加えて **NG と reason の一致** を明示 |
| 実行 | `claude --file ... --prompt prompts/brushup_mansion_buyers_claude.txt` | `brushup_house_buyers_claude.txt` / `brushup_land_buyers_claude.txt` を用意して同様に実行 |

この方針で、戸建て・土地の購入希望者情報の「reason」を、マンションと同水準の具体性・多様性で作れます。
