# URICO関西サイト - サイト概要プロンプト

## サイト概要

**URICO（ユリコ）**は、関西最大級の不動産売却マッチングサービスです。売却を検討している不動産に対して、実際に購入を希望している買主をマッチングすることで、スムーズな不動産売却をサポートします。

### 主要な特徴

- **豊富な購入希望者データベース**: 関西5府県（大阪府、兵庫県、京都府、滋賀県、奈良県）を中心に、25,000組以上の購入希望者データベースを保有
- **リアルな購入希望者情報**: 各購入希望者の詳細情報（予算、家族構成、購入時期、購入理由、NG条件など）を提供
- **高い成約率**: マンション売却では72.4%、戸建売却では79.5%、土地売却では81.4%の成約率
- **無料で利用可能**: 購入希望者情報の閲覧は無料

### 対応エリア

- 大阪府（大阪市、堺市、その他大阪府内全域）
- 兵庫県（神戸市、西宮市、尼崎市、その他兵庫県内全域）
- 京都府（京都市、その他京都府内全域）
- 滋賀県（大津市、その他滋賀県内全域）
- 奈良県（奈良市、その他奈良県内全域）

---

## ページ構成

### 1. メインページ（index.html）

サイトのメインページで、以下のセクションで構成されています：

#### ヘッダー
- キャンペーンバナー（「2025年12月ご紹介数847件！！　URICO加盟・利用不動産店数1,629店」）
- ロゴとナビゲーション（ホーム、URICOとは、お問い合わせ）

#### 画像スライダー
- 4枚の画像を自動スライド表示（5秒間隔）
- ユーザーの操作で一時停止

#### ヒーローセクション
- タイトル: 「マンションを探している購入希望者を検索」（物件タイプに応じて変更）
- サブタイトル: 購入希望者数と不動産会社数を表示

#### 統計情報セクション
- 購入希望者数（動的に計算・アニメーション表示）
- 対応物件数（動的に計算・アニメーション表示）
- 成約率（物件タイプ別: マンション72.4%、戸建79.5%、土地81.4%）

#### 検索セクション
3つのタブで物件タイプを切り替え可能：

**① マンションタブ**
- マンション名での検索（例: 「エクセルハイツ奈良」）
- 入力中にオートコンプリート機能（最大10件表示）
- 検索結果から購入希望者情報を表示

**② 戸建タブ**
- 検索方法の切り替え:
  - **エリアから探す**: 都道府県 → 市区町村
  - **駅から探す**: 路線会社名 → 沿線名 → 駅名
- 検索結果はJSONファイルから動的に読み込み

**③ 土地タブ**
- 検索方法の切り替え:
  - **エリアから探す**: 都道府県 → 市区町村
  - **駅から探す**: 路線会社名 → 沿線名 → 駅名
- 検索結果はJSONファイルから動的に読み込み

#### 購入希望者詳細モーダル
検索結果をクリックすると表示されるモーダルウィンドウ：

- **表示情報**:
  - 物件名/エリア名
  - 購入希望者数
  - 各購入希望者の詳細カード:
    - 購入希望者番号
    - バッジ（「新着」「急ぎ」）
    - 家族構成
    - 年齢
    - 職業
    - 購入時期
    - 購入方法
    - 購入理由
    - NG条件
    - 「この購入希望者を紹介してほしい」ボタン

#### 売却費用シミュレーター
- 売却価格をスライダーで設定（100万円〜20,000万円、100万円刻み）
- 自動計算される費用:
  - ① 仲介手数料（税込）: 法定上限額で計算
  - ② 登記費用（税込）: 約3〜6万円（※抵当権や共有名義等により変動あり）
  - ③ 収入印紙代: 売買契約書に貼付
  - 概算合計: 上記の合計額を表示
- 税金についての注記（税理士サポートの案内）
- 無料査定・ご相談の電話番号表示

#### お客様の声セクション
- 8件のマンション売却事例を表示
- 各事例には以下が含まれる:
  - 所在地（都道府県・市区町村）
  - 物件スペック（建築年、間取り、面積）
  - お客様の写真
  - お客様の声（テキスト）
  - 売却グラフ（画像）
  - 職業・年齢
- 他の物件種別へのリンク:
  - 「戸建のお客様の声を見る」（voice-kodate.html）
  - 「土地のお客様の声を見る」（voice-tochi.html）

#### スマホ用固定フッター
- モーダル表示時に表示される固定フッター
- 「メールで問合せ」ボタン（form.runへのリンク）
- 「電話をかける」ボタン（tel:リンク）

#### フッター
- URICOキャラクター画像
- 「関西最大級の不動産売却マッチングサービス」
- コピーライト表示

### 2. URICOとはページ（about.html）

URICOのサービスについて詳しく説明するページ：

- **URICOについて**: サービスの概要説明
- **URICOの特徴**: 
  - 豊富な購入希望者データベース
  - リアルな購入希望者情報
  - 高い成約率
  - 無料で利用可能
- **URICOの使い方**: 4ステップの利用方法
- **対応エリア**: 関西5府県の詳細
- **お問い合わせ**: 問い合わせ案内

---

## 主要機能

### 1. 物件タイプ別検索機能

#### マンション検索
- **データソース**: `mansion_db.js`（`data/mansion/part1.js`〜`part5.js`から構成）
- **検索方法**: マンション名の部分一致検索
- **オートコンプリート**: 入力中に最大10件の候補を表示
- **表示**: マンション名と購入希望者数を表示

#### 戸建検索
- **データソース**: `house_db.js` + `data/house/area/` または `data/house/station/` 配下のJSONファイル
- **検索方法**: 
  - エリア検索: `data/house/area/{都道府県}/{市区町村}.json`
  - 駅検索: `data/house/station/{路線会社名}/{沿線名}/{駅名}.json`
- **検索UI**: 3階層のドロップダウン（路線会社 → 沿線 → 駅）または2階層（都道府県 → 市区町村）

#### 土地検索
- **データソース**: `land_db.js` + `data/land/area/` または `data/land/station/` 配下のJSONファイル
- **検索方法**: 
  - エリア検索: `data/land/area/{都道府県}/{市区町村}.json`
  - 駅検索: `data/land/station/{路線会社名}/{沿線名}/{駅名}.json`
- **検索UI**: 3階層のドロップダウン（路線会社 → 沿線 → 駅）または2階層（都道府県 → 市区町村）

### 2. 購入希望者情報表示機能

- **モーダル表示**: 検索結果をクリックするとモーダルで詳細を表示
- **購入希望者カード**: 各購入希望者の情報をカード形式で表示
- **バッジ表示**:
  - 「新着」バッジ: 最新の購入希望者に表示（件数は物件タイプにより異なる）
  - 「急ぎ」バッジ: 購入時期が「即時」の購入希望者に表示
- **購入時期の正規化**: 「半年以内」→「6ヶ月以内」に変換
- **マンション専用ロジック**: 購入時期の上書きロジックあり（3件/4件/5件の場合に特定のタイミングを設定）

### 3. 統計情報表示機能

- **動的計算**: 物件タイプに応じて購入希望者数と物件数を自動計算
- **アニメーション**: 数値が0から目標値までアニメーション表示
- **タイプ別表示**: タブ切り替え時に統計情報を更新

### 4. 売却費用シミュレーター機能

- **スライダー入力**: 売却価格を100万円〜20,000万円の範囲で設定
- **自動計算**:
  - 仲介手数料: 法定上限額に基づく計算（200万円以下: 5%、400万円以下: 4%+2万円、それ以上: 3%+6万円）
  - 収入印紙代: 売却価格に応じた印紙代を計算
  - 登記費用: 固定で「約3〜6万円」と表示
- **リアルタイム更新**: スライダーを動かすと即座に計算結果を更新

### 5. 画像スライダー機能

- **自動スライド**: 5秒間隔で自動的に次の画像に切り替え
- **ユーザー操作検知**: ユーザーがスクロール/タッチすると自動スライドを一時停止
- **レスポンシブ対応**: ウィンドウサイズに応じてスライド幅を調整

### 6. タブ切り替え機能

- **3つのタブ**: マンション、戸建、土地
- **動的コンテンツ切り替え**: タブに応じて検索フォームを切り替え
- **統計情報更新**: タブ切り替え時に統計情報とヒーロータイトルを更新

---

## データ構造

### マンションデータ

**ファイル構成**:
- `mansion_db.js`: メインデータベースファイル（part1〜part5を統合）
- `data/mansion/part1.js`〜`part5.js`: 分割されたデータファイル

**データ形式**:
```javascript
{
  name: "マンション名",
  buyers: [
    {
      family: "家族構成",
      age: "年齢",
      occupation: "職業",
      timing: "購入時期",
      method: "購入方法",
      reason: "購入理由",
      ng: "NG条件"
    },
    // ... 複数の購入希望者
  ]
}
```

### 戸建データ

**ファイル構成**:
- `house_db.js`: メインデータベースファイル（参照用）
- `data/house/area/{都道府県}/{市区町村}.json`: エリア別データ
- `data/house/station/{路線会社名}/{沿線名}/{駅名}.json`: 駅別データ

**データ形式**:
```json
[
  {
    "family": "家族構成",
    "age": "年齢",
    "occupation": "職業",
    "timing": "購入時期",
    "method": "購入方法",
    "reason": "購入理由",
    "ng": "NG条件"
  },
  // ... 複数の購入希望者
]
```

### 土地データ

**ファイル構成**:
- `land_db.js`: メインデータベースファイル（参照用）
- `data/land/area/{都道府県}/{市区町村}.json`: エリア別データ
- `data/land/station/{路線会社名}/{沿線名}/{駅名}.json`: 駅別データ

**データ形式**: 戸建データと同じ形式

### マスターデータ

- `railway_data.json`: 路線・駅データ（路線会社 → 沿線 → 駅の階層構造）
- `area_data.json`: エリアデータ（都道府県 → 市区町村の階層構造）

---

## 技術スタック

- **フロントエンド**: バニラJavaScript（ES6モジュール）
- **スタイリング**: CSS（カスタムプロパティ使用）
- **データ形式**: JavaScriptモジュール（マンション）、JSON（戸建・土地）
- **フォント**: Google Fonts（Noto Sans JP）
- **外部サービス**: form.run（問い合わせフォーム）

---

## 主要なJavaScript関数

### 初期化関数
- `updateStats(type)`: 統計情報を更新
- `loadExternalData()`: 路線データとエリアデータを読み込み
- `initializeTabSwitching()`: タブ切り替え機能を初期化
- `initializeMansionSearch()`: マンション検索機能を初期化
- `initializeHouseSearch()`: 戸建検索機能を初期化
- `initializeLandSearch()`: 土地検索機能を初期化
- `initializeImageSlider()`: 画像スライダーを初期化
- `initializeSimulator()`: 売却費用シミュレーターを初期化

### 検索・表示関数
- `showBuyerDetails(itemName, type)`: 購入希望者詳細をモーダルで表示
- `closeModal()`: モーダルを閉じる
- `contactBuyer(buyerId)`: 購入希望者への問い合わせ（form.runへリダイレクト）

### ヘルパー関数
- `normalizeTimingLabel(str)`: 購入時期のラベルを正規化
- `mansionTimingOverride(index, totalBuyers)`: マンションの購入時期を上書き
- `renderBuyerBadges(propertyType, index, totalBuyers, timing)`: バッジをレンダリング
- `getNewCount(propertyType, totalBuyers)`: 新着件数を取得
- `isNew(index, totalBuyers, newCount)`: 新着かどうかを判定
- `isUrgent(timing)`: 急ぎかどうかを判定

---

## レスポンシブデザイン

- **デスクトップ**: フル機能を提供
- **モバイル（768px以下）**:
  - ヘッダーのレイアウト変更
  - 固定フッターの表示（モーダル表示時）
  - フォントサイズの調整

---

## 外部リンク・連携

- **問い合わせフォーム**: `https://form.run/@urico-kansai`
- **電話番号**: `tel:06-0000-0000`（プレースホルダー）

---

## 注意事項

1. **データの読み込み**: マンションデータはJavaScriptモジュールとして読み込むため、ES6モジュール対応のサーバー環境が必要
2. **JSONファイルのパス**: 戸建・土地の検索では、エリア名や駅名をURLエンコードしてパスを構築
3. **エラーハンドリング**: ファイルが見つからない場合はアラートを表示
4. **バッジ表示ロジック**: 物件タイプと購入希望者数に応じて複雑な条件分岐がある

---

## 開発・運用に関する情報

- **データ生成**: Claude CLIを使用した並列処理による大量データ生成システム（`scripts/`配下）
- **データ更新**: `generate:all`コマンドで一括更新可能
- **デプロイ**: Vercel設定ファイル（`vercel.json`）あり
